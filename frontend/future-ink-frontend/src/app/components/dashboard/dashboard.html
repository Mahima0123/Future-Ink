<div class="dashboard">
  <!-- TOP NAVBAR -->
  <div class="topbar">

    <div class="logo">Future Ink</div>

    <div class="user-menu" (click)="toggleMenu()">
      <div class="avatar">ðŸ‘¤</div>

      <div class="dropdown" *ngIf="menuOpen">
        <button (click)="logout()">Logout</button>
      </div>
    </div>

  </div>
  <div class="content">
    <p class="subtitle">Write today. Read tomorrow.</p>

    <!-- LETTER FORM -->
    <div class="glass-card">
      <h2>New Letter</h2>

      <form (ngSubmit)="submitLetter()" #letterForm="ngForm">

        <input
          type="text"
          placeholder="Letter title"
          [(ngModel)]="newLetter.title"
          name="title"
          required
        />

        <textarea
          placeholder="Write something meaningful..."
          [(ngModel)]="newLetter.body"
          name="body"
          rows="5"
          required
        ></textarea>

        <input
          type="datetime-local"
          [(ngModel)]="newLetter.unlock_at"
          name="unlock_at"
          required
        />

        <button type="submit" [disabled]="letterForm.invalid">
          Save Letter
        </button>

      </form>

      <div *ngIf="successMessage" class="success">
        âœ“ Letter saved to the future
      </div>
    </div>

    <!-- LETTERS -->
    <div class="letters">
      <div *ngFor="let letter of letters" class="letter-card">
        <h3>{{ letter.title }}</h3>
        <p>{{ letter.body }}</p>
        <span>{{ letter.unlock_at | date:'medium' }}</span>
      </div>
    </div>

  </div>

</div>
